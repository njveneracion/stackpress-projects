export default async function Authorize(req, res, ctx) {
    if (res.body || (res.code && res.code !== 200)) {
        return;
    }
    const authorized = await ctx.resolve('authorize', req);
    if (authorized.code !== 200) {
        res.fromStatusResponse(authorized);
        await ctx.emit('error', req, res);
    }
}
