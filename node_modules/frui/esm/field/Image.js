import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useFile } from './File.js';
import Input from './Input.js';
export default function Image(props) {
    const { uploading: locale = 'Uploading...', name, value, defaultValue, error, style, className, onChange, onUpdate, onUpload, ...attributes } = props;
    const { uploading, url, handlers } = useFile({
        defaultValue: defaultValue || value,
        onChange,
        onUpdate,
        onUpload
    });
    const classNames = ['field-image'];
    if (className) {
        classNames.push(className);
    }
    return (_jsxs("div", { className: classNames.join(' '), style: style, children: [!url && !uploading && (_jsx(Input, { ...attributes, type: "file", accept: "image/*", error: error, className: "frui-field-image-control", onChange: handlers.change })), !url && uploading && (_jsx("div", { className: "frui-field-image-file", children: _jsx("span", { className: "frui-field-image-link", children: locale }) })), url && (_jsxs("div", { className: "frui-field-image-file", children: [_jsx("img", { src: url, alt: "preview", className: "frui-field-image-image" }), _jsx("a", { className: "frui-field-image-link", href: url, target: "_blank", rel: "noreferrer", children: url }), _jsx("div", { className: "frui-field-image-reset", onClick: () => handlers.reset(), children: "\u00D7" }), _jsx("input", { type: "hidden", name: name, value: url })] }))] }));
}
;
