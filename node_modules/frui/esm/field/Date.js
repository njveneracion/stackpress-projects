import { jsx as _jsx } from "react/jsx-runtime";
import Input from './Input.js';
export function useDate({ onUpdate }) {
    return (value) => {
        if (onUpdate && value) {
            try {
                const utc = new Date(value).toUTCString();
                onUpdate(new Date(utc).toISOString());
            }
            catch (e) { }
        }
    };
}
;
export default function DateField(props) {
    const { defaultValue, className, onUpdate, ...attributes } = props;
    const update = useDate({ onUpdate });
    const classNames = ['frui-field-date'];
    if (className) {
        classNames.push(className);
    }
    return (_jsx(Input, { ...attributes, type: "date", defaultValue: defaultValue
            ? new Date(defaultValue).toISOString().split('T')[0]
            : undefined, className: classNames.join(' '), onUpdate: update }));
}
;
