import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from "react/jsx-runtime";
import Select from './Select.js';
import countries from '../data/countries.js';
export function useCountry(config) {
    const { value, defaultValue, map } = config;
    const options = countries.map(map);
    const selected = typeof value === 'string'
        ? options.filter(option => option.value === value)[0]
        : undefined;
    const selectedDefault = typeof defaultValue === 'string'
        ? options.filter(option => option.value === defaultValue)[0]
        : undefined;
    return { selected, selectedDefault, options };
}
;
export default function Country(props) {
    const { value, defaultValue, placeholder = 'Choose a Country', ...attributes } = props;
    const { selected, selectedDefault, options } = useCountry({
        value,
        defaultValue,
        map: country => ({
            label: (_jsxs(_Fragment, { children: [_jsx("span", { className: "text-lg", children: country.flag }), _jsx("span", { className: "frui-field-select-label", children: country.name })] })),
            value: country.iso3,
            keyword: (keyword) => country.iso3.toLowerCase().indexOf(keyword) >= 0
                || country.name.toLowerCase().indexOf(keyword) >= 0
                || country.iso3.toLowerCase().indexOf(keyword) >= 0
        })
    });
    return (_jsx(Select, { ...attributes, placeholder: placeholder, value: selected, defaultValue: selectedDefault, options: options, searchable: true }));
}
;
