"use strict";
'use client';
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const useLanguage_js_1 = __importDefault(require("../hooks/useLanguage.js"));
const context_js_1 = __importDefault(require("../context.js"));
const Translate = (props) => {
    const { placeholder } = (0, react_1.useContext)(context_js_1.default);
    const { template } = (0, useLanguage_js_1.default)();
    const { children, values = [] } = props;
    const phrases = [];
    const variables = Array.isArray(values) ? values : [values];
    const chunks = Array.isArray(children) ? children : [children];
    chunks.forEach(chunk => {
        if (typeof chunk === 'string') {
            phrases.push(chunk);
        }
        else {
            phrases.push(placeholder);
            variables.push(chunk);
        }
    });
    if (typeof phrases[0] === 'string') {
        phrases[0].trimStart();
    }
    if (typeof phrases[phrases.length - 1] === 'string') {
        phrases[phrases.length - 1].trimEnd();
    }
    const translate = template(phrases.join(''));
    return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: translate(...variables) }));
};
exports.default = Translate;
