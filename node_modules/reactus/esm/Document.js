import path from 'node:path';
import DocumentBuilder from './DocumentBuilder.js';
import DocumentLoader from './DocumentLoader.js';
import DocumentRender from './DocumentRender.js';
import { id } from './helpers.js';
export default class Document {
    builder;
    loader;
    render;
    server;
    entry;
    get id() {
        const hash = id(this.entry, 8);
        const basename = path.basename(this.entry);
        return `${basename}-${hash}`;
    }
    constructor(entry, server) {
        this.entry = entry;
        this.server = server;
        this.builder = new DocumentBuilder(this);
        this.loader = new DocumentLoader(this);
        this.render = new DocumentRender(this);
    }
}
